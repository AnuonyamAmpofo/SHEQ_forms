<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Tree View -->
    <record id="view_toolbox_meeting_tree" model="ir.ui.view">
        <field name="name">toolbox.meeting.tree</field>
        <field name="model">toolbox.meeting</field>
        <field name="arch" type="xml">
            <list>
                <field name="name" string="Topic"/>
                <field name="facilitator" string="Facilitator"/>
                <field name="project_id" string="Project"/>
                <field name="date" string="Date"/>
                <field name="time" string="Time"/>
                <field name="project_site" string="Project Site"/>
                <field name="attendees_count" string="Attendees"/>
            </list>
        </field>
    </record>

    <!-- Form View -->
    <record id="view_toolbox_meeting_form" model="ir.ui.view">
        <field name="name">toolbox.meeting.form</field>
        <field name="model">toolbox.meeting</field>
        <field name="arch" type="xml">
            <form string="Toolbox Meeting">
                <header>
                    <button name="action_save" type="object" string="Save" class="btn-primary"/>
                    <button name="action_cancel" type="object" string="Cancel" class="btn-secondary"/>
                </header>
                
                <sheet>
                    <group string="General Information">
                        <group>
                            <field name="name" string="Topic *" required="1"/>
                            <field name="facilitator" string="Facilitator" placeholder="Type then tab"/>
                        </group>
                        <group>
                            <field name="date" string="Date *" required="1"/>
                            <field name="time" string="Time *" required="1" widget="float_time"/>
                            <field name="project_id" string="Project *" required="1" placeholder="Type then tab"/>
                            <field name="project_site" string="Project Site"/>
                        </group>
                    </group>

                    <notebook>
                        <!-- Attendance Tab -->
                        <page string="Attendance" name="attendance_tab">
                            <field name="attendance_ids">
                                <list editable="bottom" string="Attendance List">
                                    <field name="name" string="NAME *" required="1"/>
                                    <field name="role" string="ROLE *" required="1"/>
                                    <!-- <field name="employee_id" string="Employee"/> -->
                                    <!-- <field name="signature" string="Signature" widget="image"/>
                                    <field name="sign_date" string="Signed On"/> -->
                                </list>
                                <form>
                                    <group>
                                        <group>
                                            <field name="name" string="NAME *" required="1"/>
                                            <field name="role" string="ROLE *" required="1"/>
                                            <!-- <field name="employee_id" string="Employee"/> -->
                                        </group>
                                        <!-- <group>
                                            <field name="signature" string="Signature" widget="image"/>
                                            <field name="sign_date" string="Signed On" readonly="1"/>
                                        </group> -->
                                    </group>
                                </form>
                            </field>
                        </page>

                        <!-- Discussions Tab -->
                        <page string="Discussions" name="discussions_tab">
                            <field name="discussion_ids">
                                <list editable="bottom" string="Discussion Points">
                                    <field name="topic" string="Topic *" required="1"/>
                                    <field name="description" string="Details"/>
                                    <field name="action_required" string="Action Required"/>
                                    <field name="responsible_person" string="Responsible Person"/>
                                    <field name="deadline" string="Deadline"/>
                                    <field name="status" string="Status"/>
                                </list>
                                <form>
                                    <group>
                                        <group>
                                            <field name="topic" string="Topic *" required="1"/>
                                            <field name="description" string="Details" nolabel="1"/>
                                        </group>
                                        <group>
                                            <field name="action_required" string="Action Required"/>
                                            <field name="responsible_person" string="Responsible Person"/>
                                            <field name="deadline" string="Deadline"/>
                                            <field name="status" string="Status"/>
                                        </group>
                                    </group>
                                </form>
                            </field>
                        </page>

                        <!-- Notes Tab -->
                        <page string="Notes" name="notes_tab">
                            <field name="note_ids">
                                <list editable="bottom" string="Meeting Notes">
                                    <field name="title" string="Title *" required="1"/>
                                    <field name="note_type" string="Type"/>
                                    <field name="priority" string="Priority"/>
                                </list>
                                <form>
                                    <group>
                                        <group>
                                            <field name="title" string="Title *" required="1"/>
                                            <field name="note_type" string="Type"/>
                                            <field name="priority" string="Priority"/>
                                        </group>
                                        <group>
                                            <field name="content" string="Content" nolabel="1" style="height: 200px;"/>
                                        </group>
                                    </group>
                                </form>
                            </field>
                        </page>

                        <!-- Files Tab -->
                        <page string="Files" name="files_tab">
                            <field name="file_ids">
                                <list editable="bottom" string="Meeting Files">
                                    <field name="name" string="File Name *" required="1"/>
                                    <field name="file_type" string="Type"/>
                                    <field name="description" string="Description"/>
                                </list>
                                <form>
                                    <group>
                                        <group>
                                            <field name="name" string="File Name *" required="1"/>
                                            <field name="file_type" string="Type"/>
                                            <field name="description" string="Description"/>
                                        </group>
                                        <group>
                                            <field name="attachment" string="File *" required="1" filename="attachment_filename"/>
                                            <field name="attachment_filename" string="File Name" readonly="1"/>
                                        </group>
                                    </group>
                                </form>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Actions for each model -->
    <record id="action_toolbox_attendance" model="ir.actions.act_window">
        <field name="name">Toolbox Attendances</field>
        <field name="res_model">toolbox.attendance</field>
        <field name="view_mode">list,form</field>
    </record>
    
        <record id="action_toolbox_meeting" model="ir.actions.act_window">
            <field name="name">Toolbox Meetings</field>
            <field name="res_model">toolbox.meeting</field>
            <field name="view_mode">list,form</field>
        </record>

    <record id="action_toolbox_discussion" model="ir.actions.act_window">
        <field name="name">Toolbox Discussions</field>
        <field name="res_model">toolbox.discussion</field>
        <field name="view_mode">list,form</field>
    </record>

    <record id="action_toolbox_note" model="ir.actions.act_window">
        <field name="name">Toolbox Notes</field>
        <field name="res_model">toolbox.note</field>
        <field name="view_mode">list,form</field>
    </record>

    <record id="action_toolbox_file" model="ir.actions.act_window">
        <field name="name">Toolbox Files</field>
        <field name="res_model">toolbox.file</field>
        <field name="view_mode">list,form</field>
    </record>
</odoo>